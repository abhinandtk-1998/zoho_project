{% extends 'base.html' %}
{% block content %}
{% load static %}


<style>
    table tr td:hover {
    cursor: pointer;
  }
</style>

<body>
  
    <div class="body-wrapper">
      <div class="container-fluid">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'company_dashboard' %}" class="text-warning-emphasis">Dashboard</a></li>
            <li class="breadcrumb-item" aria-current="page">Holiday</li>
          </ol>
        </nav>
        <div style="overflow-x:auto;"> 
          <h1 class="text-center text-white">ALL HOLIDAYS</h1>
          <input type="text" id="searchInput" placeholder="Search...">
          <select id="sortSelect">
            <option value="all">All</option>
            <option value="month">Month</option>
            <option value="year">Year</option>
          </select>
          <a href="{% url 'company_holiday_new' %}"><i class="fa fa-plus text-yellow" ></i>New</a>
          <div class="table-responsive">
            <table class="table mt-lg-5 mt-2 rounded" style="background-color: rgb(0, 0, 0);color: white;">
              <thead>
                <tr class="border-bottom border-dark">
                  <th scope="col" ><b>Sl no.</b></th>
                  <th scope="col" ><b>Month</b></th>
                  <th scope="col" ><b>Year</b></th>
                  <th scope="col" ><b>Holidays</b></th>
                  <th scope="col" ><b>Working days</b></th>
                </tr>
              </thead>
              <tbody>
                {% for key, row in holiday_table.items %}
                <tr class="border-bottom border-dark">
                  <td>{{ row.0 }}</td>
                  <td>{{ row.1 }}</td>
                  <td>{{ row.2 }}</td>
                  <td>{{ row.3 }}</td>
                  <td>{{ row.4 }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table> 

    
          </div> 
        </div>
  
      </div>
    </div>





    <script>
      document.addEventListener("DOMContentLoaded", function () {
        let searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('keyup', function () {
          let filter = searchInput.value.toUpperCase();
          let tableBody = document.querySelector('tbody');
          let rows = tableBody.getElementsByTagName('tr');
    
          for (let i = 0; i < rows.length; i++) {
            let row = rows[i];
            let cells = row.getElementsByTagName('td');
            let found = false;
    
            for (let j = 0; j < cells.length; j++) {
              let cell = cells[j];
              if (cell) {
                let textValue = cell.textContent || cell.innerText;
                if (textValue.toUpperCase().indexOf(filter) > -1) {
                  found = true;
                  break;
                }
              }
            }
    
            if (found) {
              row.style.display = '';
            } else {
              row.style.display = 'none';
            }
          }
        });
      });
    </script>
    
  </body>




{% endblock %}